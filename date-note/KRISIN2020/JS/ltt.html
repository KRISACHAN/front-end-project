<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta
            name="viewport"
            content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no"
        />
        <meta name="screen-orientation" content="portrait" />
        <meta name="x5-orientation" content="portrait" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <meta http-equiv="Cache-Control" content="no-siteapp" />
        <title>ltt</title>
        <style></style>
    </head>

    <body>
        <script>
            'use strict'
            const list = [
                ['a', 'aa', 'aaa'],
                ['b', 'bb', ['bbb', 'bbbb']],
                ['c', 'cc', ['ccc', 'cccc', 'ccccc']],
                ['d', 'dd', ['ddd', 'dddd', 'ddddd', 'ddddd']],
                [['e', 'ee', 'eee'], 'eeee', 'eeeee'],
                [['f', 'ff'], 'fff', 'ffff'],
                ['g', 'gg', 'ggg'],
            ]

            let newList = []
            let stack = [...list]
            while (stack.length) {
                const tail = stack.pop()
                if (Object.prototype.toString.call(tail) === '[object Array]') {
                    stack.push(...tail)
                } else {
                    const obj = {}
                    obj.name = tail
                    obj.child = newList
                    newList = [{ ...obj }]
                }
            }
            console.log(list)
            console.log(newList)
        </script>
    </body>
</html>
