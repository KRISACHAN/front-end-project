{"version":3,"file":"index.cjs.js","sources":["../src/increase.ts","../src/decrease.ts","../src/others.ts","../src/index.ts"],"sourcesContent":["export const increase = (total: number, value: number): number => total + value;\n","export const decrease = (total: number, value: number): number => total - value;\n","export default {\n    a: 1 as number,\n    b: 2 as number,\n    c: () => 3 as number,\n};\n\nexport const d: number = 4;\nexport const e: number = 5;\n","import { increase } from './increase';\nimport { decrease } from './decrease';\nimport others, { e } from './others';\n\nfunction multiply(total: number, value: number): number {\n  return total * value;\n}\n\nfunction divide(total: number, value: number): number {\n  return total / value;\n}\n\nexport function power(total: number, value: number): number {\n  return total ** value;\n}\n\nlet total: number = others.a;\n\ntotal = increase(total, 10);\ntotal = increase(total, 20);\ntotal = decrease(total, 5);\ntotal = multiply(total, e);\n\nconsole.log(`Total is ${total}`);\n\ntype DataType = 'NULL' | 'UNDEFINED' | 'BOOLEAN' | 'NUMBER' | 'BIGINT' | 'STRING' | 'SYMBOL' | 'OBJECT' | 'ARRAY' | 'DATE' | 'REGEXP' | 'ERROR' | 'MAP' | 'SET' | 'WEAKMAP' | 'WEAKSET';\n\nconst isEqual = (data1: any, data2: any): boolean => data1 === data2;\n\nconst typeMap: Record<string, DataType> = {\n    // 原始类型\n    NULL: 'NULL',\n    UNDEFINED: 'UNDEFINED',\n    BOOLEAN: 'BOOLEAN',\n    NUMBER: 'NUMBER',\n    BIGINT: 'BIGINT',\n    STRING: 'STRING',\n    SYMBOL: 'SYMBOL',\n\n    // 引用类型\n    OBJECT: 'OBJECT',\n    ARRAY: 'ARRAY',\n    DATE: 'DATE',\n    REGEXP: 'REGEXP',\n    ERROR: 'ERROR',\n    MAP: 'MAP',\n    SET: 'SET',\n    WEAKMAP: 'WEAKMAP',\n    WEAKSET: 'WEAKSET',\n};\n\n// 原始类型合集\nconst originTypes: DataType[] = [\n    typeMap.NULL,\n    typeMap.UNDEFINED,\n    typeMap.BOOLEAN,\n    typeMap.NUMBER,\n    typeMap.BIGINT,\n    typeMap.STRING,\n    typeMap.SYMBOL,\n];\n\n// 引用类型合集\nconst referenceTypes: DataType[] = [\n    typeMap.OBJECT,\n    typeMap.ARRAY,\n    typeMap.DATE,\n    typeMap.REGEXP,\n    typeMap.ERROR,\n    typeMap.MAP,\n    typeMap.SET,\n    typeMap.WEAKMAP,\n    typeMap.WEAKSET,\n];\n\n// 引用类型构造器\nconst referenceConstructor: Function[] = [\n    Date,\n    RegExp,\n    Error,\n    Map,\n    Set,\n    WeakMap,\n    WeakSet,\n];\n\n// 获取元素类型\nconst getType = (data: any): DataType => {\n    const rawType = Object.prototype.toString.call(data);\n    return rawType.replace(/^\\[object\\s(.+)\\]$/, '$1').toUpperCase() as DataType;\n};\n\n// 深拷贝\nconst cloneDeep = (data: any, hash = new WeakMap()): any => {\n    // 如果已经存在元素，直接返回，用于解决循环引用的问题\n    if (hash.has(data)) {\n        return data;\n    };\n    const currentType = getType(data);\n    // 原始类型可直接解析\n    if (originTypes.includes(currentType)) {\n        return JSON.parse(JSON.stringify(data));\n    };\n    // 部分引用类型直接重新生成即可\n    if (referenceConstructor.includes(data?.constructor)) {\n        return new data.constructor(data);\n    };\n    // 如果是数组，则循环遍历\n    if (isEqual(currentType, typeMap.ARRAY)) {\n        return data.map((item: any) => cloneDeep(item));\n    };\n    // 如果是对象，也要循环遍历\n    if (isEqual(data, typeMap.OBJECT)) {\n        const res: Record<string, any> = {};\n        Object.entries(data).forEach((item: [string, any]) => {\n            const [key, value] = item;\n            res[key] = cloneDeep(value);\n        });\n        hash.set(data, res);\n    };\n    return data;\n};\n\ncloneDeep(1);\n"],"names":[],"mappings":";;;;MAAa,WAAW,CAAC,OAAe,UAA0B,QAAQ;;MCA7D,WAAW,CAAC,OAAe,UAA0B,QAAQ;;ACA1E,aAAe;AAAA,EACX,GAAG;AAAA,EACH,GAAG;AAAA,EACH,GAAG,MAAM;AAAA;MAIA,IAAY;;ACHzB,kBAAkB,QAAe,OAAuB;AACtD,SAAO,SAAQ;AAAA;eAOK,QAAe,OAAuB;AAC1D,SAAO,UAAS;AAAA;AAGlB,IAAI,QAAgB,OAAO;AAE3B,QAAQ,SAAS,OAAO;AACxB,QAAQ,SAAS,OAAO;AACxB,QAAQ,SAAS,OAAO;AACxB,QAAQ,SAAS,OAAO;AAExB,QAAQ,IAAI,YAAY;AAIxB,MAAM,UAAU,CAAC,OAAY,UAAwB,UAAU;AAE/D,MAAM,UAAoC;AAAA,EAEtC,MAAM;AAAA,EACN,WAAW;AAAA,EACX,SAAS;AAAA,EACT,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EAGR,QAAQ;AAAA,EACR,OAAO;AAAA,EACP,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,OAAO;AAAA,EACP,KAAK;AAAA,EACL,KAAK;AAAA,EACL,SAAS;AAAA,EACT,SAAS;AAAA;AAIb,MAAM,cAA0B;AAAA,EAC5B,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA;AAiBZ,MAAM,uBAAmC;AAAA,EACrC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAIJ,MAAM,UAAU,CAAC,SAAwB;AACrC,QAAM,UAAU,OAAO,UAAU,SAAS,KAAK;AAC/C,SAAO,QAAQ,QAAQ,sBAAsB,MAAM;AAAA;AAIvD,MAAM,YAAY,CAAC,MAAW,OAAO,IAAI,cAAmB;AAExD,MAAI,KAAK,IAAI,OAAO;AAChB,WAAO;AAAA;AAEX,QAAM,cAAc,QAAQ;AAE5B,MAAI,YAAY,SAAS,cAAc;AACnC,WAAO,KAAK,MAAM,KAAK,UAAU;AAAA;AAGrC,MAAI,qBAAqB,SAAS,MAAM,cAAc;AAClD,WAAO,IAAI,KAAK,YAAY;AAAA;AAGhC,MAAI,QAAQ,aAAa,QAAQ,QAAQ;AACrC,WAAO,KAAK,IAAI,CAAC,SAAc,UAAU;AAAA;AAG7C,MAAI,QAAQ,MAAM,QAAQ,SAAS;AAC/B,UAAM,MAA2B;AACjC,WAAO,QAAQ,MAAM,QAAQ,CAAC,SAAwB;AAClD,YAAM,CAAC,KAAK,SAAS;AACrB,UAAI,OAAO,UAAU;AAAA;AAEzB,SAAK,IAAI,MAAM;AAAA;AAEnB,SAAO;AAAA;AAGX,UAAU;;;;"}